// Generated by CoffeeScript 2.4.1
var COLORS, Circle, active, circles, clicked, createCirclePair, draw, level, mousePressed, reset, setup;

level = 1;

active = 0;

clicked = [];

circles = [];

COLORS = "#ff08 #0f08 #00f8".split(' ');

Circle = class Circle {
  constructor(radie1, x1, y1, col1) {
    this.radie = radie1;
    this.x = x1;
    this.y = y1;
    this.col = col1;
    this.active = true;
  }

  rita() {
    if (this.active) {
      fill(this.col);
      return circle(this.x, this.y, this.radie);
    }
  }

  inside(mx, my) {
    return dist(this.x, this.y, mx, my) < this.radie;
  }

};

reset = function(delta = 1) {
  var i, j, len, ref, results;
  level += delta;
  circles = [];
  ref = range(level);
  results = [];
  for (j = 0, len = ref.length; j < len; j++) {
    i = ref[j];
    results.push(createCirclePair(COLORS[i]));
  }
  return results;
};

setup = function() {
  createCanvas(windowWidth, windowHeight);
  return reset();
};

draw = function() {
  var circle, j, len, results;
  bg(0);
  results = [];
  for (j = 0, len = circles.length; j < len; j++) {
    circle = circles[j];
    results.push(circle.rita());
  }
  return results;
};

createCirclePair = function(col) {
  var i, j, len, radie, ref, results, x, y;
  active++;
  radie = windowHeight / 4;
  ref = range(2);
  results = [];
  for (j = 0, len = ref.length; j < len; j++) {
    i = ref[j];
    x = random(width);
    y = random(height);
    results.push(circles.push(new Circle(radie, x, y, col)));
  }
  return results;
};

mousePressed = function() {
  var circle, count, curr, j, len;
  count = 0;
  for (j = 0, len = circles.length; j < len; j++) {
    circle = circles[j];
    if (circle.inside(mouseX, mouseY)) {
      curr = circle;
      count++;
    }
  }
  if (curr.active) {
    if (count === 1) {
      curr.active = false;
      clicked.push(curr);
      if (clicked.length === 2) {
        if (clicked[0].col !== clicked[1].col) {
          return reset(-1);
        }
      }
    }
  }
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6Ii4uIiwic291cmNlcyI6WyJjb2ZmZWVcXHNrZXRjaC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQUEsTUFBQSxFQUFBLE1BQUEsRUFBQSxNQUFBLEVBQUEsT0FBQSxFQUFBLE9BQUEsRUFBQSxnQkFBQSxFQUFBLElBQUEsRUFBQSxLQUFBLEVBQUEsWUFBQSxFQUFBLEtBQUEsRUFBQTs7QUFBQSxLQUFBLEdBQVE7O0FBQ1IsTUFBQSxHQUFTOztBQUNULE9BQUEsR0FBVTs7QUFDVixPQUFBLEdBQVU7O0FBR1YsTUFBQSxHQUFTLG1CQUFtQixDQUFDLEtBQXBCLENBQTBCLEdBQTFCOztBQUVILFNBQU4sTUFBQSxPQUFBO0VBQ0MsV0FBYyxPQUFBLElBQUEsSUFBQSxNQUFBLENBQUE7SUFBQyxJQUFDLENBQUE7SUFBTyxJQUFDLENBQUE7SUFBRyxJQUFDLENBQUE7SUFBRyxJQUFDLENBQUE7SUFDL0IsSUFBQyxDQUFBLE1BQUQsR0FBVTtFQURHOztFQUVkLElBQU8sQ0FBQSxDQUFBO0lBQ04sSUFBRyxJQUFDLENBQUEsTUFBSjtNQUNDLElBQUEsQ0FBSyxJQUFDLENBQUEsR0FBTjthQUNBLE1BQUEsQ0FBTyxJQUFDLENBQUEsQ0FBUixFQUFVLElBQUMsQ0FBQSxDQUFYLEVBQWEsSUFBQyxDQUFBLEtBQWQsRUFGRDs7RUFETTs7RUFJUCxNQUFTLENBQUMsRUFBRCxFQUFJLEVBQUosQ0FBQTtXQUFXLElBQUEsQ0FBSyxJQUFDLENBQUEsQ0FBTixFQUFRLElBQUMsQ0FBQSxDQUFULEVBQVcsRUFBWCxFQUFjLEVBQWQsQ0FBQSxHQUFvQixJQUFDLENBQUE7RUFBaEM7O0FBUFY7O0FBU0EsS0FBQSxHQUFRLFFBQUEsQ0FBQyxRQUFNLENBQVAsQ0FBQTtBQUNQLE1BQUEsQ0FBQSxFQUFBLENBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBO0VBQUEsS0FBQSxJQUFTO0VBQ1QsT0FBQSxHQUFVO0FBQ1Y7QUFBQTtFQUFBLEtBQUEscUNBQUE7O2lCQUNDLGdCQUFBLENBQWlCLE1BQU8sQ0FBQSxDQUFBLENBQXhCO0VBREQsQ0FBQTs7QUFITzs7QUFNUixLQUFBLEdBQVEsUUFBQSxDQUFBLENBQUE7RUFDUCxZQUFBLENBQWEsV0FBYixFQUF5QixZQUF6QjtTQUNBLEtBQUEsQ0FBQTtBQUZPOztBQUlSLElBQUEsR0FBTyxRQUFBLENBQUEsQ0FBQTtBQUNOLE1BQUEsTUFBQSxFQUFBLENBQUEsRUFBQSxHQUFBLEVBQUE7RUFBQSxFQUFBLENBQUcsQ0FBSDtBQUNBO0VBQUEsS0FBQSx5Q0FBQTs7aUJBQ0MsTUFBTSxDQUFDLElBQVAsQ0FBQTtFQURELENBQUE7O0FBRk07O0FBS1AsZ0JBQUEsR0FBbUIsUUFBQSxDQUFDLEdBQUQsQ0FBQTtBQUNsQixNQUFBLENBQUEsRUFBQSxDQUFBLEVBQUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxHQUFBLEVBQUEsT0FBQSxFQUFBLENBQUEsRUFBQTtFQUFBLE1BQUE7RUFFQSxLQUFBLEdBQVEsWUFBQSxHQUFhO0FBRXJCO0FBQUE7RUFBQSxLQUFBLHFDQUFBOztJQUNDLENBQUEsR0FBSSxNQUFBLENBQU8sS0FBUDtJQUNKLENBQUEsR0FBSSxNQUFBLENBQU8sTUFBUDtpQkFDSixPQUFPLENBQUMsSUFBUixDQUFhLElBQUksTUFBSixDQUFXLEtBQVgsRUFBaUIsQ0FBakIsRUFBbUIsQ0FBbkIsRUFBcUIsR0FBckIsQ0FBYjtFQUhELENBQUE7O0FBTGtCOztBQVVuQixZQUFBLEdBQWUsUUFBQSxDQUFBLENBQUE7QUFDZCxNQUFBLE1BQUEsRUFBQSxLQUFBLEVBQUEsSUFBQSxFQUFBLENBQUEsRUFBQTtFQUFBLEtBQUEsR0FBUTtFQUNSLEtBQUEseUNBQUE7O0lBQ0MsSUFBRyxNQUFNLENBQUMsTUFBUCxDQUFjLE1BQWQsRUFBcUIsTUFBckIsQ0FBSDtNQUNDLElBQUEsR0FBTztNQUNQLEtBQUEsR0FGRDs7RUFERDtFQUlBLElBQUcsSUFBSSxDQUFDLE1BQVI7SUFDQyxJQUFHLEtBQUEsS0FBUyxDQUFaO01BQ0MsSUFBSSxDQUFDLE1BQUwsR0FBYztNQUNkLE9BQU8sQ0FBQyxJQUFSLENBQWEsSUFBYjtNQUNBLElBQUcsT0FBTyxDQUFDLE1BQVIsS0FBa0IsQ0FBckI7UUFDQyxJQUFHLE9BQVEsQ0FBQSxDQUFBLENBQUUsQ0FBQyxHQUFYLEtBQWtCLE9BQVEsQ0FBQSxDQUFBLENBQUUsQ0FBQyxHQUFoQztpQkFBeUMsS0FBQSxDQUFNLENBQUMsQ0FBUCxFQUF6QztTQUREO09BSEQ7S0FERDs7QUFOYyIsInNvdXJjZXNDb250ZW50IjpbImxldmVsID0gMVxyXG5hY3RpdmUgPSAwXHJcbmNsaWNrZWQgPSBbXVxyXG5jaXJjbGVzID0gW11cclxuXHJcblxyXG5DT0xPUlMgPSBcIiNmZjA4ICMwZjA4ICMwMGY4XCIuc3BsaXQgJyAnXHJcblxyXG5jbGFzcyBDaXJjbGVcclxuXHRjb25zdHJ1Y3RvciA6IChAcmFkaWUsIEB4LCBAeSwgQGNvbCkgLT5cclxuXHRcdEBhY3RpdmUgPSB0cnVlXHJcblx0cml0YSA6IC0+XHJcblx0XHRpZiBAYWN0aXZlXHJcblx0XHRcdGZpbGwgQGNvbFxyXG5cdFx0XHRjaXJjbGUgQHgsQHksQHJhZGllXHJcblx0aW5zaWRlIDogKG14LG15KSAtPiBkaXN0KEB4LEB5LG14LG15KSA8IEByYWRpZVxyXG5cclxucmVzZXQgPSAoZGVsdGE9MSkgLT5cclxuXHRsZXZlbCArPSBkZWx0YVxyXG5cdGNpcmNsZXMgPSBbXVxyXG5cdGZvciBpIGluIHJhbmdlIGxldmVsXHJcblx0XHRjcmVhdGVDaXJjbGVQYWlyIENPTE9SU1tpXVxyXG5cclxuc2V0dXAgPSAtPlxyXG5cdGNyZWF0ZUNhbnZhcyB3aW5kb3dXaWR0aCx3aW5kb3dIZWlnaHRcclxuXHRyZXNldCgpXHJcblxyXG5kcmF3ID0gLT5cclxuXHRiZyAwXHJcblx0Zm9yIGNpcmNsZSBpbiBjaXJjbGVzXHJcblx0XHRjaXJjbGUucml0YSgpXHJcblxyXG5jcmVhdGVDaXJjbGVQYWlyID0gKGNvbCkgLT5cclxuXHRhY3RpdmUrK1xyXG5cclxuXHRyYWRpZSA9IHdpbmRvd0hlaWdodC80XHJcblxyXG5cdGZvciBpIGluIHJhbmdlIDJcclxuXHRcdHggPSByYW5kb20gd2lkdGhcclxuXHRcdHkgPSByYW5kb20gaGVpZ2h0XHJcblx0XHRjaXJjbGVzLnB1c2ggbmV3IENpcmNsZSByYWRpZSx4LHksY29sXHJcblxyXG5tb3VzZVByZXNzZWQgPSAoKSAtPlxyXG5cdGNvdW50ID0gMFxyXG5cdGZvciBjaXJjbGUgaW4gY2lyY2xlc1xyXG5cdFx0aWYgY2lyY2xlLmluc2lkZSBtb3VzZVgsbW91c2VZXHJcblx0XHRcdGN1cnIgPSBjaXJjbGVcclxuXHRcdFx0Y291bnQrK1xyXG5cdGlmIGN1cnIuYWN0aXZlXHJcblx0XHRpZiBjb3VudCA9PSAxXHJcblx0XHRcdGN1cnIuYWN0aXZlID0gZmFsc2VcclxuXHRcdFx0Y2xpY2tlZC5wdXNoIGN1cnJcclxuXHRcdFx0aWYgY2xpY2tlZC5sZW5ndGggPT0gMiBcclxuXHRcdFx0XHRpZiBjbGlja2VkWzBdLmNvbCAhPSBjbGlja2VkWzFdLmNvbCB0aGVuIHJlc2V0IC0xXHJcblx0XHRcdFx0XHJcblxyXG4iXX0=
//# sourceURL=c:\Lab\2020\009-Experiment\coffee\sketch.coffee