// Generated by CoffeeScript 2.4.1
var Ball, active, balls, createBall, draw, level, mousePressed, reset, setup, start, stopp;

level = 0;

active = 0;

start = null;

stopp = null;

Ball = class Ball {
  constructor(radie1, x1, y1, col1) {
    this.radie = radie1;
    this.x = x1;
    this.y = y1;
    this.col = col1;
    this.active = true;
  }

  rita() {
    if (!this.active) {
      return;
    }
    
    // if @x > width-@radie then @dx = -@dx
    // if @x < @radie then @dx = -@dx
    // @x += @dx

    // if @y > height-@radie then @dy = -@dy else @dy+=0.1

    // @y += @dy
    fill(this.col);
    return circle(this.x, this.y, this.radie);
  }

  inside(mx, my) {
    return dist(this.x, this.y, mx, my) < this.radie;
  }

};

balls = [];

reset = function() {
  var i, j, len, ref, results;
  start = new Date();
  level++;
  balls = [];
  ref = range(level);
  results = [];
  for (j = 0, len = ref.length; j < len; j++) {
    i = ref[j];
    results.push(createBall());
  }
  return results;
};

setup = function() {
  createCanvas(800, 600);
  reset();
  textSize(100);
  return textAlign(CENTER, CENTER);
};

draw = function() {
  var ball, j, len;
  bg(0);
  for (j = 0, len = balls.length; j < len; j++) {
    ball = balls[j];
    ball.rita();
  }
  if (active === 0) {
    fc(1);
    return text((stopp - start) / 1000, width / 2, height / 2);
  }
};

mousePressed = function() {
  var ball, j, len, results;
  if (active === 0) {
    return reset();
  } else {
    results = [];
    for (j = 0, len = balls.length; j < len; j++) {
      ball = balls[j];
      if (ball.inside(mouseX, mouseY)) {
        ball.active = false;
        active--;
        if (active === 0) {
          results.push(stopp = new Date());
        } else {
          results.push(void 0);
        }
      } else {
        results.push(void 0);
      }
    }
    return results;
  }
};

createBall = function() {
  var col, radie, x, y;
  active++;
  x = random(50, width);
  y = random(50, 100);
  // dx = random -2,2
  // dy = random -0.3,0.3
  radie = 50;
  col = "#f00 #0f0 #00f".split(' ');
  return balls.push(new Ball(radie, x, y, col[0]));
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6Ii4uIiwic291cmNlcyI6WyJjb2ZmZWVcXHNrZXRjaC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQUEsSUFBQSxFQUFBLE1BQUEsRUFBQSxLQUFBLEVBQUEsVUFBQSxFQUFBLElBQUEsRUFBQSxLQUFBLEVBQUEsWUFBQSxFQUFBLEtBQUEsRUFBQSxLQUFBLEVBQUEsS0FBQSxFQUFBOztBQUFBLEtBQUEsR0FBUTs7QUFFUixNQUFBLEdBQVM7O0FBQ1QsS0FBQSxHQUFROztBQUNSLEtBQUEsR0FBUTs7QUFFRixPQUFOLE1BQUEsS0FBQTtFQUNDLFdBQWMsT0FBQSxJQUFBLElBQUEsTUFBQSxDQUFBO0lBQUMsSUFBQyxDQUFBO0lBQU8sSUFBQyxDQUFBO0lBQUcsSUFBQyxDQUFBO0lBQUcsSUFBQyxDQUFBO0lBQy9CLElBQUMsQ0FBQSxNQUFELEdBQVU7RUFERzs7RUFFZCxJQUFPLENBQUEsQ0FBQTtJQUNOLElBQUcsQ0FBSSxJQUFDLENBQUEsTUFBUjtBQUFvQixhQUFwQjtLQUFBOzs7Ozs7Ozs7SUFRQSxJQUFBLENBQUssSUFBQyxDQUFBLEdBQU47V0FDQSxNQUFBLENBQU8sSUFBQyxDQUFBLENBQVIsRUFBVSxJQUFDLENBQUEsQ0FBWCxFQUFhLElBQUMsQ0FBQSxLQUFkO0VBVk07O0VBV1AsTUFBUyxDQUFDLEVBQUQsRUFBSSxFQUFKLENBQUE7V0FBVyxJQUFBLENBQUssSUFBQyxDQUFBLENBQU4sRUFBUSxJQUFDLENBQUEsQ0FBVCxFQUFXLEVBQVgsRUFBYyxFQUFkLENBQUEsR0FBb0IsSUFBQyxDQUFBO0VBQWhDOztBQWRWOztBQWdCQSxLQUFBLEdBQVE7O0FBRVIsS0FBQSxHQUFRLFFBQUEsQ0FBQSxDQUFBO0FBQ1AsTUFBQSxDQUFBLEVBQUEsQ0FBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUE7RUFBQSxLQUFBLEdBQVEsSUFBSSxJQUFKLENBQUE7RUFDUixLQUFBO0VBQ0EsS0FBQSxHQUFRO0FBQ1I7QUFBQTtFQUFBLEtBQUEscUNBQUE7O2lCQUNDLFVBQUEsQ0FBQTtFQURELENBQUE7O0FBSk87O0FBT1IsS0FBQSxHQUFRLFFBQUEsQ0FBQSxDQUFBO0VBQ1AsWUFBQSxDQUFhLEdBQWIsRUFBaUIsR0FBakI7RUFDQSxLQUFBLENBQUE7RUFDQSxRQUFBLENBQVMsR0FBVDtTQUNBLFNBQUEsQ0FBVSxNQUFWLEVBQWlCLE1BQWpCO0FBSk87O0FBTVIsSUFBQSxHQUFPLFFBQUEsQ0FBQSxDQUFBO0FBQ04sTUFBQSxJQUFBLEVBQUEsQ0FBQSxFQUFBO0VBQUEsRUFBQSxDQUFHLENBQUg7RUFDQSxLQUFBLHVDQUFBOztJQUNDLElBQUksQ0FBQyxJQUFMLENBQUE7RUFERDtFQUVBLElBQUcsTUFBQSxLQUFVLENBQWI7SUFDQyxFQUFBLENBQUcsQ0FBSDtXQUNBLElBQUEsQ0FBSyxDQUFDLEtBQUEsR0FBTSxLQUFQLENBQUEsR0FBYyxJQUFuQixFQUF5QixLQUFBLEdBQU0sQ0FBL0IsRUFBaUMsTUFBQSxHQUFPLENBQXhDLEVBRkQ7O0FBSk07O0FBUVAsWUFBQSxHQUFlLFFBQUEsQ0FBQSxDQUFBO0FBQ2QsTUFBQSxJQUFBLEVBQUEsQ0FBQSxFQUFBLEdBQUEsRUFBQTtFQUFBLElBQUcsTUFBQSxLQUFRLENBQVg7V0FDQyxLQUFBLENBQUEsRUFERDtHQUFBLE1BQUE7QUFHQztJQUFBLEtBQUEsdUNBQUE7O01BQ0MsSUFBRyxJQUFJLENBQUMsTUFBTCxDQUFZLE1BQVosRUFBbUIsTUFBbkIsQ0FBSDtRQUNDLElBQUksQ0FBQyxNQUFMLEdBQWM7UUFDZCxNQUFBO1FBQ0EsSUFBRyxNQUFBLEtBQVUsQ0FBYjt1QkFDQyxLQUFBLEdBQVEsSUFBSSxJQUFKLENBQUEsR0FEVDtTQUFBLE1BQUE7K0JBQUE7U0FIRDtPQUFBLE1BQUE7NkJBQUE7O0lBREQsQ0FBQTttQkFIRDs7QUFEYzs7QUFXZixVQUFBLEdBQWEsUUFBQSxDQUFBLENBQUE7QUFDWixNQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsQ0FBQSxFQUFBO0VBQUEsTUFBQTtFQUNBLENBQUEsR0FBSSxNQUFBLENBQU8sRUFBUCxFQUFVLEtBQVY7RUFDSixDQUFBLEdBQUksTUFBQSxDQUFPLEVBQVAsRUFBVSxHQUFWLEVBRko7OztFQU1BLEtBQUEsR0FBUTtFQUNSLEdBQUEsR0FBTSxnQkFBZ0IsQ0FBQyxLQUFqQixDQUF1QixHQUF2QjtTQUNOLEtBQUssQ0FBQyxJQUFOLENBQVcsSUFBSSxJQUFKLENBQVMsS0FBVCxFQUFlLENBQWYsRUFBaUIsQ0FBakIsRUFBbUIsR0FBSSxDQUFBLENBQUEsQ0FBdkIsQ0FBWDtBQVRZIiwic291cmNlc0NvbnRlbnQiOlsibGV2ZWwgPSAwXHJcblxyXG5hY3RpdmUgPSAwXHJcbnN0YXJ0ID0gbnVsbFxyXG5zdG9wcCA9IG51bGxcclxuXHJcbmNsYXNzIEJhbGxcclxuXHRjb25zdHJ1Y3RvciA6IChAcmFkaWUsIEB4LCBAeSwgQGNvbCkgLT5cclxuXHRcdEBhY3RpdmUgPSB0cnVlXHJcblx0cml0YSA6IC0+XHJcblx0XHRpZiBub3QgQGFjdGl2ZSB0aGVuIHJldHVybiBcclxuXHRcdCMgaWYgQHggPiB3aWR0aC1AcmFkaWUgdGhlbiBAZHggPSAtQGR4XHJcblx0XHQjIGlmIEB4IDwgQHJhZGllIHRoZW4gQGR4ID0gLUBkeFxyXG5cdFx0IyBAeCArPSBAZHhcclxuXHJcblx0XHQjIGlmIEB5ID4gaGVpZ2h0LUByYWRpZSB0aGVuIEBkeSA9IC1AZHkgZWxzZSBAZHkrPTAuMVxyXG5cclxuXHRcdCMgQHkgKz0gQGR5XHJcblx0XHRmaWxsIEBjb2xcclxuXHRcdGNpcmNsZSBAeCxAeSxAcmFkaWVcclxuXHRpbnNpZGUgOiAobXgsbXkpIC0+IGRpc3QoQHgsQHksbXgsbXkpIDwgQHJhZGllXHJcblxyXG5iYWxscyA9IFtdXHJcblxyXG5yZXNldCA9ICgpIC0+XHJcblx0c3RhcnQgPSBuZXcgRGF0ZSgpXHJcblx0bGV2ZWwrK1xyXG5cdGJhbGxzID0gW11cclxuXHRmb3IgaSBpbiByYW5nZSBsZXZlbFxyXG5cdFx0Y3JlYXRlQmFsbCgpXHJcblxyXG5zZXR1cCA9IC0+XHJcblx0Y3JlYXRlQ2FudmFzIDgwMCw2MDBcclxuXHRyZXNldCgpXHJcblx0dGV4dFNpemUgMTAwXHJcblx0dGV4dEFsaWduIENFTlRFUixDRU5URVJcclxuXHJcbmRyYXcgPSAtPlxyXG5cdGJnIDBcclxuXHRmb3IgYmFsbCBpbiBiYWxsc1xyXG5cdFx0YmFsbC5yaXRhKClcclxuXHRpZiBhY3RpdmUgPT0gMFxyXG5cdFx0ZmMgMVxyXG5cdFx0dGV4dCAoc3RvcHAtc3RhcnQpLzEwMDAsIHdpZHRoLzIsaGVpZ2h0LzJcclxuXHJcbm1vdXNlUHJlc3NlZCA9IC0+XHJcblx0aWYgYWN0aXZlPT0wXHJcblx0XHRyZXNldCgpXHJcblx0ZWxzZVxyXG5cdFx0Zm9yIGJhbGwgaW4gYmFsbHNcclxuXHRcdFx0aWYgYmFsbC5pbnNpZGUgbW91c2VYLG1vdXNlWSBcclxuXHRcdFx0XHRiYWxsLmFjdGl2ZSA9IGZhbHNlXHJcblx0XHRcdFx0YWN0aXZlLS1cclxuXHRcdFx0XHRpZiBhY3RpdmUgPT0gMFxyXG5cdFx0XHRcdFx0c3RvcHAgPSBuZXcgRGF0ZSgpIFxyXG5cclxuY3JlYXRlQmFsbCA9IC0+XHJcblx0YWN0aXZlKytcclxuXHR4ID0gcmFuZG9tIDUwLHdpZHRoXHJcblx0eSA9IHJhbmRvbSA1MCwxMDBcclxuXHQjIGR4ID0gcmFuZG9tIC0yLDJcclxuXHQjIGR5ID0gcmFuZG9tIC0wLjMsMC4zXHJcblxyXG5cdHJhZGllID0gNTBcclxuXHRjb2wgPSBcIiNmMDAgIzBmMCAjMDBmXCIuc3BsaXQgJyAnXHJcblx0YmFsbHMucHVzaCBuZXcgQmFsbCByYWRpZSx4LHksY29sWzBdIl19
//# sourceURL=c:\github\ColorPairCD\coffee\sketch.coffee